#!/usr/bin/env python
#
# $Source$
# $Id: curator-new 199 2004-03-27 16:43:17Z blais $
#

"""curator [<options>]

New version of curator.


"""

## FIXME add root directory as unique argument.



__version__ = "$Revision: 199 $"
__author__ = "Martin Blais <blais@furius.ca>"

#===============================================================================
# EXTERNAL DECLARATIONS
#===============================================================================

import sys, os

from curator.core import Publisher

#===============================================================================
# LOCAL DECLARATIONS
#===============================================================================

#===============================================================================
# MAIN
#===============================================================================

def main():
    pub = Publisher()

    import optparse
    parser = optparse.OptionParser(__doc__.strip(), version=__version__)
    opts, args = pub.parse_args(parser)

    if len(args) > 1:
        raise parser.error("You can only specify a single root directory.")
    elif len(args) == 1:
        opts.root = args[0]
        
    pub.run(opts)


if __name__ == '__main__':
    main()
